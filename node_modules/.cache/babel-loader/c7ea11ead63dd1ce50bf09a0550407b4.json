{"ast":null,"code":"import RentalActionTypes from \"./rental.types\";\nimport { firestore, convertRentalsSnapshotToMap } from \"../../firebase/firebase.utils\";\nexport const fetchRentalsStart = () => ({\n  type: RentalActionTypes.FETCH_RENTALS_START\n});\nexport const FetchRentalsStartAsync = () => {\n  return dispatch => {\n    // * reference to colllection\n    const rentalRef = firestore.collection(\"rentals\"); // *  Promised baseed API Call (regular API)\n\n    rentalRef.get().then(snapshot => {\n      // * get Snapshot of the reference\n      const rentalsMap = convertRentalsSnapshotToMap(snapshot); // // * dispatch to update Redux state\n      // updateRentals(rentalsMap);\n      // * set state to false after the state is updated\n      // * -> render <RentalOverview>\n\n      this.setState({\n        loading: false\n      });\n    });\n  };\n};\n_c = FetchRentalsStartAsync;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchRentalsStartAsync\");","map":{"version":3,"sources":["/Users/barsen/Documents/WebDevelopment/Rental-ClubRossignol/src/redux/rental/rental.actions.js"],"names":["RentalActionTypes","firestore","convertRentalsSnapshotToMap","fetchRentalsStart","type","FETCH_RENTALS_START","FetchRentalsStartAsync","dispatch","rentalRef","collection","get","then","snapshot","rentalsMap","setState","loading"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,gBAA9B;AAEA,SACEC,SADF,EAEEC,2BAFF,QAGO,+BAHP;AAKA,OAAO,MAAMC,iBAAiB,GAAG,OAAO;AACtCC,EAAAA,IAAI,EAAEJ,iBAAiB,CAACK;AADc,CAAP,CAA1B;AAIP,OAAO,MAAMC,sBAAsB,GAAG,MAAM;AAC1C,SAAQC,QAAD,IAAc;AACnB;AACA,UAAMC,SAAS,GAAGP,SAAS,CAACQ,UAAV,CAAqB,SAArB,CAAlB,CAFmB,CAInB;;AACAD,IAAAA,SAAS,CAACE,GAAV,GAAgBC,IAAhB,CAAsBC,QAAD,IAAc;AACjC;AACA,YAAMC,UAAU,GAAGX,2BAA2B,CAACU,QAAD,CAA9C,CAFiC,CAGjC;AACA;AACA;AACA;;AACA,WAAKE,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KARD;AASD,GAdD;AAeD,CAhBM;KAAMT,sB","sourcesContent":["import RentalActionTypes from \"./rental.types\";\n\nimport {\n  firestore,\n  convertRentalsSnapshotToMap,\n} from \"../../firebase/firebase.utils\";\n\nexport const fetchRentalsStart = () => ({\n  type: RentalActionTypes.FETCH_RENTALS_START,\n});\n\nexport const FetchRentalsStartAsync = () => {\n  return (dispatch) => {\n    // * reference to colllection\n    const rentalRef = firestore.collection(\"rentals\");\n\n    // *  Promised baseed API Call (regular API)\n    rentalRef.get().then((snapshot) => {\n      // * get Snapshot of the reference\n      const rentalsMap = convertRentalsSnapshotToMap(snapshot);\n      // // * dispatch to update Redux state\n      // updateRentals(rentalsMap);\n      // * set state to false after the state is updated\n      // * -> render <RentalOverview>\n      this.setState({ loading: false });\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}