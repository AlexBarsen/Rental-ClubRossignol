{"ast":null,"code":"import RentalActionTypes from \"./rental.types\";\nimport { firestore, convertRentalsSnapshotToMap } from \"../../firebase/firebase.utils\";\nexport const fetchRentalsStart = () => ({\n  type: RentalActionTypes.FETCH_RENTALS_START\n});\nexport const fetchRentalsSuccess = rentalsMap => ({\n  type: RentalActionTypes.FETCH_RENTALS_SUCCESS,\n  payload: rentalsMap\n});\nexport const fetchRentalsFailure = errorMessage => ({\n  type: RentalActionTypes.FETCH_RENTALS_FAILURE,\n  payload: errorMessage\n});\nexport const fetchRentalsStartAsync = () => {\n  return dispatch => {\n    // * reference to colllection\n    const rentalRef = firestore.collection(\"rentals\"); // * dispatch fetch start call, we can do this because of \"redux-thunk\"\n\n    dispatch(fetchRentalsStart()); // *  Promised baseed API Call (regular API)\n\n    rentalRef.get().then(snapshot => {\n      // * get Snapshot of the reference\n      const rentalsMap = convertRentalsSnapshotToMap(snapshot); // * dispatch fetchRentalsSuccess action with the rentalsMap\n      // * which updates the state as well\n\n      dispatch(fetchRentalsSuccess(rentalsMap));\n    }).catch(error => dispatch(fetchRentalsFailure(error)));\n  };\n};","map":{"version":3,"sources":["/Users/barsen/Documents/WebDevelopment/Rental-ClubRossignol/src/redux/rental/rental.actions.js"],"names":["RentalActionTypes","firestore","convertRentalsSnapshotToMap","fetchRentalsStart","type","FETCH_RENTALS_START","fetchRentalsSuccess","rentalsMap","FETCH_RENTALS_SUCCESS","payload","fetchRentalsFailure","errorMessage","FETCH_RENTALS_FAILURE","fetchRentalsStartAsync","dispatch","rentalRef","collection","get","then","snapshot","catch","error"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,gBAA9B;AAEA,SACEC,SADF,EAEEC,2BAFF,QAGO,+BAHP;AAKA,OAAO,MAAMC,iBAAiB,GAAG,OAAO;AACtCC,EAAAA,IAAI,EAAEJ,iBAAiB,CAACK;AADc,CAAP,CAA1B;AAIP,OAAO,MAAMC,mBAAmB,GAAIC,UAAD,KAAiB;AAClDH,EAAAA,IAAI,EAAEJ,iBAAiB,CAACQ,qBAD0B;AAElDC,EAAAA,OAAO,EAAEF;AAFyC,CAAjB,CAA5B;AAKP,OAAO,MAAMG,mBAAmB,GAAIC,YAAD,KAAmB;AACpDP,EAAAA,IAAI,EAAEJ,iBAAiB,CAACY,qBAD4B;AAEpDH,EAAAA,OAAO,EAAEE;AAF2C,CAAnB,CAA5B;AAKP,OAAO,MAAME,sBAAsB,GAAG,MAAM;AAC1C,SAAQC,QAAD,IAAc;AACnB;AACA,UAAMC,SAAS,GAAGd,SAAS,CAACe,UAAV,CAAqB,SAArB,CAAlB,CAFmB,CAInB;;AACAF,IAAAA,QAAQ,CAACX,iBAAiB,EAAlB,CAAR,CALmB,CAOnB;;AACAY,IAAAA,SAAS,CACNE,GADH,GAEGC,IAFH,CAESC,QAAD,IAAc;AAClB;AACA,YAAMZ,UAAU,GAAGL,2BAA2B,CAACiB,QAAD,CAA9C,CAFkB,CAIlB;AACA;;AACAL,MAAAA,QAAQ,CAACR,mBAAmB,CAACC,UAAD,CAApB,CAAR;AACD,KATH,EAUGa,KAVH,CAUUC,KAAD,IAAWP,QAAQ,CAACJ,mBAAmB,CAACW,KAAD,CAApB,CAV5B;AAWD,GAnBD;AAoBD,CArBM","sourcesContent":["import RentalActionTypes from \"./rental.types\";\n\nimport {\n  firestore,\n  convertRentalsSnapshotToMap,\n} from \"../../firebase/firebase.utils\";\n\nexport const fetchRentalsStart = () => ({\n  type: RentalActionTypes.FETCH_RENTALS_START,\n});\n\nexport const fetchRentalsSuccess = (rentalsMap) => ({\n  type: RentalActionTypes.FETCH_RENTALS_SUCCESS,\n  payload: rentalsMap,\n});\n\nexport const fetchRentalsFailure = (errorMessage) => ({\n  type: RentalActionTypes.FETCH_RENTALS_FAILURE,\n  payload: errorMessage,\n});\n\nexport const fetchRentalsStartAsync = () => {\n  return (dispatch) => {\n    // * reference to colllection\n    const rentalRef = firestore.collection(\"rentals\");\n\n    // * dispatch fetch start call, we can do this because of \"redux-thunk\"\n    dispatch(fetchRentalsStart());\n\n    // *  Promised baseed API Call (regular API)\n    rentalRef\n      .get()\n      .then((snapshot) => {\n        // * get Snapshot of the reference\n        const rentalsMap = convertRentalsSnapshotToMap(snapshot);\n\n        // * dispatch fetchRentalsSuccess action with the rentalsMap\n        // * which updates the state as well\n        dispatch(fetchRentalsSuccess(rentalsMap));\n      })\n      .catch((error) => dispatch(fetchRentalsFailure(error)));\n  };\n};\n"]},"metadata":{},"sourceType":"module"}