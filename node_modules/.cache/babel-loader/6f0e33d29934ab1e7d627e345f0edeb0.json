{"ast":null,"code":"import RentalActionTypes from \"./rental.types\";\nimport { firestore, convertRentalsSnapshotToMap } from \"../../firebase/firebase.utils\";\nexport const fetchRentalsStart = () => ({\n  type: RentalActionTypes.FETCH_RENTALS_START\n});\nexport const fetchRentalsSuccess = rentalsMap => ({\n  type: RentalActionTypes.FETCH_RENTALS_SUCCESS,\n  payload: rentalsMap\n});\nexport const fetchRentalsStartAsync = () => {\n  return dispatch => {\n    // * reference to colllection\n    const rentalRef = firestore.collection(\"rentals\"); // * dispatch fetch start call, we can do this because of \"redux-thunk\"\n\n    dispatch(fetchRentalsStart()); // *  Promised baseed API Call (regular API)\n\n    rentalRef.get().then(snapshot => {\n      // * get Snapshot of the reference\n      const rentalsMap = convertRentalsSnapshotToMap(snapshot); // * dispatch fetchRentalsSuccess action with the rentalsMap which updates the state as well\n\n      dispatch(fetchRentalsSuccess(rentalsMap));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/barsen/Documents/WebDevelopment/Rental-ClubRossignol/src/redux/rental/rental.actions.js"],"names":["RentalActionTypes","firestore","convertRentalsSnapshotToMap","fetchRentalsStart","type","FETCH_RENTALS_START","fetchRentalsSuccess","rentalsMap","FETCH_RENTALS_SUCCESS","payload","fetchRentalsStartAsync","dispatch","rentalRef","collection","get","then","snapshot"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,gBAA9B;AAEA,SACEC,SADF,EAEEC,2BAFF,QAGO,+BAHP;AAKA,OAAO,MAAMC,iBAAiB,GAAG,OAAO;AACtCC,EAAAA,IAAI,EAAEJ,iBAAiB,CAACK;AADc,CAAP,CAA1B;AAIP,OAAO,MAAMC,mBAAmB,GAAIC,UAAD,KAAiB;AAClDH,EAAAA,IAAI,EAAEJ,iBAAiB,CAACQ,qBAD0B;AAElDC,EAAAA,OAAO,EAAEF;AAFyC,CAAjB,CAA5B;AAKP,OAAO,MAAMG,sBAAsB,GAAG,MAAM;AAC1C,SAAQC,QAAD,IAAc;AACnB;AACA,UAAMC,SAAS,GAAGX,SAAS,CAACY,UAAV,CAAqB,SAArB,CAAlB,CAFmB,CAInB;;AACAF,IAAAA,QAAQ,CAACR,iBAAiB,EAAlB,CAAR,CALmB,CAOnB;;AACAS,IAAAA,SAAS,CAACE,GAAV,GAAgBC,IAAhB,CAAsBC,QAAD,IAAc;AACjC;AACA,YAAMT,UAAU,GAAGL,2BAA2B,CAACc,QAAD,CAA9C,CAFiC,CAIjC;;AACAL,MAAAA,QAAQ,CAACL,mBAAmB,CAACC,UAAD,CAApB,CAAR;AACD,KAND;AAOD,GAfD;AAgBD,CAjBM","sourcesContent":["import RentalActionTypes from \"./rental.types\";\n\nimport {\n  firestore,\n  convertRentalsSnapshotToMap,\n} from \"../../firebase/firebase.utils\";\n\nexport const fetchRentalsStart = () => ({\n  type: RentalActionTypes.FETCH_RENTALS_START,\n});\n\nexport const fetchRentalsSuccess = (rentalsMap) => ({\n  type: RentalActionTypes.FETCH_RENTALS_SUCCESS,\n  payload: rentalsMap,\n});\n\nexport const fetchRentalsStartAsync = () => {\n  return (dispatch) => {\n    // * reference to colllection\n    const rentalRef = firestore.collection(\"rentals\");\n\n    // * dispatch fetch start call, we can do this because of \"redux-thunk\"\n    dispatch(fetchRentalsStart());\n\n    // *  Promised baseed API Call (regular API)\n    rentalRef.get().then((snapshot) => {\n      // * get Snapshot of the reference\n      const rentalsMap = convertRentalsSnapshotToMap(snapshot);\n\n      // * dispatch fetchRentalsSuccess action with the rentalsMap which updates the state as well\n      dispatch(fetchRentalsSuccess(rentalsMap));\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}